{
  "hash": "b0ae893e7876b54d7fae882701c5bd68",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Exploring Transportation and Socioeconomic Patterns\"\neditor_options: \n  chunk_output_type: console\nexecute:\n  message: false\n  warning: false\n---\n\n\n\n\nExpanding on the previous post's geospatial feature extraction, this article will delve into enriching our understanding of NYC taxi zones with socioeconomic and transportation-related data from the **US Census Bureau**. This new layer of information will provide crucial context for analyzing `take_current_trip` by revealing underlying community characteristics and commuting behaviors within each zone.\n\nHere are the steps to follow:\n\n1. **Importing training data with zone shapes**.\n\n1.  **Import Census data**:\n    * Identify relevant variables.\n    * Download data for Manhattan, Queens and Brooklyn with geometry.\n\n2.  **Spatially join ACS data to taxi zones**:\n    * Perform spatial joins to aggregate census tract data to the taxi zone level.\n    * Address overlapping and partially contained tracts.\n\n3.  **Extract new features**:\n    * Calculate proportions, averages, and densities of the ACS variables for each taxi zone.\n\n4.  **Validation**:\n    * Integrate new features with existing data and `take_current_trip`.\n    * Define the correlation between new predictors and `take_current_trip`.\n    \n    \n## Setting up the environment\n\n### Define colors to use\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nBoroughColors <- c(\n  'Manhattan' = '#e41a1c',\n  'Queens' = '#377eb8',\n  'Brooklyn'= '#4daf4a'\n)\n\nBoroughSelected <- names(BoroughColors)\n\nColorHighlight <- \"lightslateblue\"\nColorHighlightLow <- \"#D3CDF7\"\nColorGray <- \"gray80\"\n```\n:::\n\n\n\n\n### Loading packages\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## To manage relative paths\nlibrary(here)\n\n## To transform data that fits in RAM\nlibrary(data.table)\n\n## To work with spatial data\nlibrary(sf)\n\n# To work and plot graphs\nlibrary(tidytext)\nlibrary(stringdist)\nlibrary(hashr)\nlibrary(igraph)\n\n# Access to US Census Bureau datasets\nlibrary(tidycensus)\n\n## To create general plots\nlibrary(ggplot2)\nlibrary(scales)\n\n## To create table\nlibrary(gt)\n\n## Custom functions\ndevtools::load_all()\n```\n:::\n\n\n\n\n:::{.callout-note title=\"Computational Performance\"}\nThe geospatial processing operations in this document are computationally intensive. Although they could benefit from parallelization with packages like `future` and `future.apply`, we've opted for a sequential approach with caching via `qs2`  to maximize **reproducibility** and maintain **code simplicity**. Intermediate results are saved after each costly operation to avoid unnecessary recalculations during iterative development.\n:::\n\n## Importing training data with zone shapes\n\nDetails on how this data was obtained can be found in the **Data Collection Process**.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nZonesShapes <-\n  read_sf(here(\"raw-data/taxi_zones/taxi_zones.shp\")) |>\n  (\\(df) df[df[[\"borough\"]] %chin% BoroughSelected,\n            c(\"OBJECTID\", \"LocationID\")])() |>\n  st_cast(to = \"MULTIPOLYGON\")\n\nTrainingSample <-\n  here(\"output/take-trip-fst\") |>\n  list.files(full.names = TRUE) |>\n  (\\(x) data.table(full_path = x,\n                   n_char = nchar(basename(x)),\n                   name = basename(x)))() |>\n  (\\(dt) dt[order(n_char, name), full_path])() |>\n  head(12L) |>\n  lapply(FUN = fst::read_fst,\n         columns = c(\"trip_id\",\"PULocationID\", \"DOLocationID\", \"take_current_trip\"),\n         as.data.table = TRUE) |>\n  rbindlist()\n```\n:::\n\n\n\n\n## Import Census data\n\n### Identify relevant variables\n\nBased on the `tidycensus` documentation we have the below tables available for exploration.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nValidTables = c(\n  \"sf1\", \"sf2\", \"sf3\", \"sf4\", \"pl\", \"dhc\", \"dp\", \n  \"ddhca\", \"ddhcb\", \"sdhc\", \"as\", \"gu\", \"mp\", \n  \"vi\", \"acsse\", \"dpas\", \"dpgu\", \"dpmp\", \"dpvi\",\n  \"dhcvi\", \"dhcgu\", \"dhcvi\", \"dhcas\", \"acs1\", \n  \"acs3\", \"acs5\", \"acs1/profile\", \"acs3/profile\",\n  \"acs5/profile\", \"acs1/subject\", \"acs3/subject\",\n  \"acs5/subject\", \"acs1/cprofile\", \"acs5/cprofile\",\n  \"sf2profile\", \"sf3profile\", \"sf4profile\", \"aian\",\n  \"aianprofile\", \"cd110h\", \"cd110s\", \"cd110hprofile\",\n  \"cd110sprofile\", \"sldh\", \"slds\", \"sldhprofile\",\n  \"sldsprofile\", \"cqr\", \"cd113\", \"cd113profile\",\n  \"cd115\", \"cd115profile\", \"cd116\", \"plnat\", \"cd118\"\n)\n\nlength(ValidTables)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 55\n```\n\n\n:::\n:::\n\n\n\n\nThat means that we have a lot a data to use, but to be able to get the list of variables available for each table we need to know the different year when each table was updated. In our particular case, we only know  the **last year when each table was updated from 2020 to 2020**.\n\nTo solve that question, we only need to scrap the table available in [https://api.census.gov/data.html](https://api.census.gov/data.html) and apply our particular selection to that huge table. \n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nCensusTables <-\n  rvest::read_html(\"https://api.census.gov/data.html\") |>\n  rvest::html_table() |>\n  (\\(x) x[[1L]])() |>\n  as.data.table() |>\n  subset(!is.na(`API Base URL`)\n         & Vintage != \"N/A\",\n         select = c(\"Title\",\n                    \"Description\",\n                    \"Vintage\",\n                    \"Dataset Type\",\n                    \"Dataset Name\",\n                    \"API Base URL\"))\n\nCensusTables[,`:=`(Vintage = as.integer(Vintage),\n                   `Dataset Name` = gsub(\"â€º \", \"/\", `Dataset Name`))]\n\nCensusTables[, `:=`(survey = fcase(`Dataset Name` %like% \"^dec\",\n                                   \"dec\",\n                                   `Dataset Name` %like% \"^acs\",\n                                   \"acs\"),\n                    `Dataset Name` = gsub(\"(dec|acs)/\", \"\", `Dataset Name`))]\n\nsetorder(CensusTables, -Vintage)\n\nValidTablesYears <-\n  CensusTables[\n    Vintage %between% c(2020, 2022)\n  ][ValidTables,\n    on = \"Dataset Name\",\n    nomatch = NULL,\n    unique(.SD, by = \"Dataset Name\"),\n    .SDcols = c(\"Vintage\", \"Dataset Name\", \"survey\")]\n\nValidTablesYears[, head(.SD, 5),\n                 by = \"survey\"]\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n    survey Vintage Dataset Name\n    <char>   <int>       <char>\n 1:    dec    2020           pl\n 2:    dec    2020          dhc\n 3:    dec    2020           dp\n 4:    dec    2020        ddhca\n 5:    dec    2020        ddhcb\n 6:    acs    2022        acsse\n 7:    acs    2022         acs1\n 8:    acs    2022         acs5\n 9:    acs    2022 acs1/profile\n10:    acs    2022 acs5/profile\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\nNow that we have the years related to each table, let's apply `tidycensus::load_variables` for each table and year to see the variables to explore. \n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nget_all_data = function(x, ref_df){\n  \n  imported_data =\n    load_variables(ref_df$Vintage[x],\n                   ref_df$`Dataset Name`[x])\n  \n  setDT(imported_data)\n  \n  imported_data[, `:=`(year = ref_df$Vintage[x],\n                       dataset = ref_df$`Dataset Name`[x],\n                       survey = ref_df$survey[x])]\n  \n  return(imported_data)\n  \n} \n  \nValidTablesLastYear <-\n  lapply(seq_along(ValidTablesYears$`Dataset Name`), \n         get_all_data,\n         ref_df = ValidTablesYears)|>\n  rbindlist(use.names = TRUE, fill = TRUE)\n\nnrow(ValidTablesLastYear) |> comma()\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"159,721\"\n```\n\n\n:::\n:::\n\n\n\n\nAfter making that exploration we can see that we have almost **160K variables** to explore.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nTo understand what have we have let's plot the number of variables by dataset and survey for each year.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nVariablesPerDataset <-\n  ValidTablesLastYear[, .N, \n                      .(year = factor(year), \n                        dataset,\n                        survey)\n  ][, dataset := reorder(dataset, N, FUN = sum)] \n\nggplot(VariablesPerDataset) +\n  geom_col(aes(N, dataset, fill = year),\n           color = \"black\",\n           linewidth = 0.2) +\n  scale_fill_manual(values = c(\"2022\" = ColorHighlight,\n                               \"2020\" = ColorGray)) +\n  scale_x_continuous(labels = scales::label_comma(scale = 1/1000, suffix = \"k\"))+\n  expand_limits(x = 1e4) +\n  labs(x = \"Number of variables\",\n       fill = \"Last update year\")+\n  facet_wrap(vars(survey), scale = \"free\") +\n  theme_minimal()+\n  theme(panel.grid.minor = element_blank(),\n        panel.grid.major.y = element_blank())\n```\n\n::: {.cell-output-display}\n![](08-expanding-transportation-socioeconomic_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\n\nIt's clear that **there is one way we can read the variables one by one** and hypothesize the variables to select. Instead, we are going to flow some steps to reduce the number of variable and the classify them in to groups to select.\n\nJust by looking to the raw data, I found that many variables measure the same thing for particular groups based on:\n\n- Race\n- Place of Birth\n- Sex\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nVariablesToIgnore <- c(\n  \"Hispanic\",\n  \"Latino\",\n  \"American Indian\",\n  \"Alaska Native\",\n  \"White\",\n  \"Black\",\n  \"African American\",\n  \"Asian\",\n  \"Native Hawaiian\",\n  \"Pacific Islander\",\n  \"Races?\",\n  \n  \"Ancestry\",\n  \"Nativity\",\n  \"Citizenship Status\",\n  \"Place of Birth\",\n  \"Naturalization\",\n  \"Current Residence\",\n  \n  \"Male\",\n  \"Female\",\n  \"Women\",\n  \"Men\"\n)\n```\n:::\n\n\n\n\nAs we will join the data based on geography it doesn't make sense to have predictors based on the situations of those particular groups as we won't have does details of passengers of the trips.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConceptsToExplore <-\n  ValidTablesLastYear[!concept %ilike% paste(VariablesToIgnore, collapse = \"|\")\n                      & !label %ilike% \"Male|Female\",\n                      .(concept = unique(concept))]\n\nnrow(ConceptsToExplore)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1270\n```\n\n\n:::\n:::\n\n\n\n\nAnother aspect we found out by exploring the data it's that some variables names are really long and the long the concept definition the more specific the variable and less useful for our model. For example, below we can see the variable with the longer number of characters:\n\n\n\n\n> GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN BY LENGTH OF TIME RESPONSIBLE FOR GRANDCHILDREN FOR THE POPULATION 30 YEARS AND OVER IN HOUSEHOLDS (EXCLUDING PEOPLE IN MILITARY HOUSING UNITS)\n\n\n\n\n- Population Measured: \n  - Grandparents living with own grandchildren under 18 years\n  - 30 years and over\n  - In households (excluding military housing units)\n\n- Data Categories:\n  - By responsibility for own grandchildren\n  - By length of time responsible for grandchildren\n\nBy exploring the cumulative distribution we can see that near 50% of the variable present less **70 characters** per variable which seems the better group to focus the exploration\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nConceptsToExplore[, concept_length := nchar(concept)]\n\nggplot(ConceptsToExplore)+\n  stat_ecdf(aes(concept_length)) +\n  scale_x_continuous(breaks = breaks_width(10))+\n  scale_y_continuous(labels = label_percent(accuracy = 1))+\n  labs(title = \"Empirical Cumulative Distribution\",\n       subtitle = \"Number of Character per Variable\",\n       x = \"Number of Characters\",\n       y = \"Cumulative Proportion\") +\n  theme_minimal()+\n  theme(panel.grid.minor = element_blank())\n```\n\n::: {.cell-output-display}\n![](08-expanding-transportation-socioeconomic_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n\n\nAfter applying that change we only have 675 pending variables to explore the classify.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConceptsToExploreMaxConceptLength <- 70\n\nConceptsToExploreValidConceptLength <- \n  ConceptsToExplore[concept_length <= ConceptsToExploreMaxConceptLength]\n\nConceptsToExploreValidConceptLength[, .N]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 675\n```\n\n\n:::\n:::\n\n\n\n\nTo confirm if that action make sense we can print the longer variables and confirm that aren't too specific.\n\n\n\n\n- `GROUP QUARTERS POPULATION IN NONINSTITUTIONAL FACILITIES BY SEX BY AGE`\n- `Class of Worker for the Civilian Employed Population 16 Years and Over`\n- `AGGREGATE INCOME DEFICIT IN 2019 (DOLLARS) FOR FAMILIES BY FAMILY TYPE`\n- `AGGREGATE NUMBER OF ROOMS BY TENURE (EXCLUDING MILITARY HOUSING UNITS)`\n- `Sex by Industry for the Civilian Employed Population 16 Years and Over`\n- `Poverty Status in the Past 12 Months of Individuals by Work Experience`\n\n\n\n\nNow we can calculate the **pairwise Jaccard string distances** of each of the variables to identify conceptually similar terms based on similar words to then identify variable clusters to select.\n\n1. Create word-level hash tokens (not character-level) after case normalization.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConceptsToExploreHash <- \n  tolower(ConceptsToExploreValidConceptLength$concept) |>\n  strsplit(\"\\\\s+\") |> \n  hash()\n```\n:::\n\n\n\n\n2. Compute pairwise Jaccard distances between hashed word representations.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConceptsToExploreWordDistance <-\n  seq_distmatrix(ConceptsToExploreHash, \n                 ConceptsToExploreHash, \n                 method = \"jaccard\", \n                 q = 1)\n```\n:::\n\n\n\n\n3. Assign concept names to matrix dimensions for interpretability.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrownames(ConceptsToExploreWordDistance) <- ConceptsToExploreValidConceptLength$concept\ncolnames(ConceptsToExploreWordDistance) <- ConceptsToExploreValidConceptLength$concept\n```\n:::\n\n\n\n\n4. Transform symmetric matrix to long format, eliminating redundant pairwise comparisons.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConceptsToExploreWordDistance[upper.tri(ConceptsToExploreWordDistance, diag = TRUE)] <- NA\n\nConceptsToExploreWordDistanceDt <-\n  as.data.table(ConceptsToExploreWordDistance,\n                keep.rownames = \"Variable Name 1\") |>\n  melt(id.vars = \"Variable Name 1\",\n       variable.name = \"Variable Name 2\",\n       variable.factor = FALSE,\n       value.name = \"Jaccard Distance\",\n       na.rm = TRUE)\n```\n:::\n\n\n\n\n\nWith this inter-concept distance we can use the `edge_betweenness` argoritm to define the cluster to use. But as the result for this method will change depending the min Jaccard Distance selected to do the analysis, we need to explore several options before taking a final decision.\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndefine_clusters_by_distance <- function(min_jaccard_distance,\n                                        dt){\n  \n  dt_filtered = dt[`Jaccard Distance` <= min_jaccard_distance]\n  \n  temp_graph =\n    graph_from_data_frame(dt_filtered, directed = FALSE)\n  \n  temp_cluster = cluster_edge_betweenness(temp_graph)\n  \n  node_results = data.table(\n    node = V(temp_graph)$name,\n    cluster = temp_cluster$membership,\n    `Jaccard Distance Threshold` = min_jaccard_distance,\n    modularity = max(temp_cluster$modularity),\n    n_clusters = max(temp_cluster$membership)\n  )\n  \n  return(node_results)\n  \n}\n\n\nConceptsToExploreByDistance <-\n  lapply(seq(0.1, 0.8, by = 0.10),\n         FUN = define_clusters_by_distance,\n         dt = ConceptsToExploreWordDistanceDt) |>\n  rbindlist()\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\nAfter exploring several configurations we can see that that the as we expand the limit of Jaccard Distance the modularity decrease, but the number of clusters initially increases (peaking around 0.3) and then steadily decreases until 0.7, after which it increases sharply again.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nConceptsToExploreByDistance[, unique(.SD),\n                            .SDcols = c(\"Jaccard Distance Threshold\",\n                                        \"modularity\",\n                                        \"n_clusters\")] |>\n  melt(id.vars = \"Jaccard Distance Threshold\",\n       variable.name = \"cluster_metric\") |>\n  ggplot(aes(`Jaccard Distance Threshold`, value)) +\n  geom_line(linewidth = 1,\n            color = \"gray40\") +\n  geom_point(size = 3,\n             color = \"gray40\") +\n  geom_vline(xintercept = 0.5,\n             linetype = \"dashed\",\n             color = ColorHighlight,\n             linewidth = 0.9) +\n  # Add the annotation here\n  annotate(\"text\", x = 0.5, y = Inf, label = \"0.5 Threshold\",\n           color = ColorHighlight, vjust = 1.2, hjust = -0.05, size = 4) +\n  scale_y_continuous(labels = \\(x) fifelse(x <= 1 & x > 0,\n                                            label_percent()(x),\n                                            label_comma(accuracy = 1)(x)),\n                     breaks = breaks_pretty(7)) +\n  scale_x_continuous(breaks = breaks_width(0.10)) +\n  expand_limits(y = 0) +\n  facet_wrap(vars(cluster_metric),\n             scale = \"free_y\",\n             ncol = 1L,\n             strip.position = \"top\") +\n  labs(\n    title = \"Modularity and Number of Clusters vs. Jaccard Distance Threshold\",\n    subtitle = \"Assessing the Trade-off: High Modularity and Low Number of Clusters\",\n    x = \"Jaccard Distance Threshold\",\n    y = \"Value\"\n  ) +\n  theme_minimal() +\n  theme(panel.grid.minor = element_blank(),\n        legend.position = \"none\",\n        plot.title = element_text(face = \"bold\"),\n        plot.subtitle = element_text(color = \"gray25\"),\n        strip.text = element_text(size = 12, face = \"bold\"),\n        axis.text = element_text(size = 10))\n```\n\n::: {.cell-output-display}\n![](08-expanding-transportation-socioeconomic_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n\n\n\nBased on this information **the best threshold is 0.5 Jaccard Distance** as the modularity is higher than 0.8 and the algorithm found less than 60 clusters. After than point the slope to reduce the number of clusters gets lower as concurrence, we don't see worthy to keep increasing the threshold.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConceptsToExploreClusters <-\n  ConceptsToExploreByDistance[.(0.5),\n                              on = \"Jaccard Distance Threshold\"]\n```\n:::\n\n\n\n\n\nTo understand what kind of variables we have in each cluster lets use the **statistic tf-idf** to list the **top 5 words** (after removing stop words) of each cluster and use that reference to select the must meaningful ones for this context.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nCustomStopWords <- c(\n  stop_words[stop_words$lexicon == \"snowball\", c(\"word\")][[1]],\n  \"estimate\",\n  \"estimates\",\n  \"percent\",\n  \"months\",\n  \"past\",\n  \"detailed\",\n  \"type\",\n  \"types\",\n  \"current\",\n  \"adjusted\",\n  \"united\",\n  \"round\",\n  \"selected\",\n  \"median\",\n  \"level\",\n   NA_character_\n)\n\nTopWordsByCluster <-\n  ConceptsToExploreClusters[, .(cluster,\n                                concept_lower = tolower(node))\n  ][, unnest_tokens(.SD, word, concept_lower)\n  ][!word %chin% CustomStopWords\n    & !word %like% \"^\\\\d+$\",\n    .N,\n    by = c(\"cluster\", \"word\")\n  ][, dataset_total := sum(N), \n    by = \"cluster\"\n  ][, bind_tf_idf(.SD, word, cluster, N)\n  ][order(-tf_idf)\n  ][, .(`Top Words` =\n          head(word, 5L) |> \n          stringr::str_to_sentence() |>\n          paste0(collapse = \", \")),\n    keyby = \"cluster\"\n  ][ConceptsToExploreClusters,\n    on = \"cluster\",\n    j = .(`Node Count` = .N), \n    by = c(\"Top Words\", \"cluster\")\n  ][order(- `Node Count`, cluster),\n    .(`Cluster ID` = cluster, `Top Words`, `Node Count`)]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\ngt(TopWordsByCluster) |>\n  # Apply visual styling\n  tab_header(\n    title = \"Key Variable Clusters from Census Data Analysis\",\n    subtitle = \"Top representative words and cluster sizes for socioeconomic & transportation patterns\"\n  ) |>\n  tab_style(\n    style = cell_text(color = \"white\", weight = \"bold\"),\n    locations = cells_title()\n  ) |>\n  tab_style(\n    style = cell_fill(color = \"#2c3e50\"),\n    locations = cells_title()\n  ) |>\n  data_color(\n    columns = `Node Count`,\n    fn = scales::col_numeric(\n      palette = c(\"white\", ColorHighlightLow, ColorHighlight),\n      domain = c(0, max(TopWordsByCluster$`Node Count`))\n    )\n  )|>\n  fmt_number(\n    columns = `Node Count`,\n    decimals = 0\n  ) |>\n  cols_align(\n    align = \"left\",\n    columns = `Top Words`\n  ) |>\n  cols_label(\n    `Cluster ID` = \"CLUSTER\",\n    `Top Words` = \"TOP REPRESENTATIVE TERMS\",\n    `Node Count` = \"# VARIABLES\"\n  ) |>\n  tab_options(\n    table.font.names = \"Arial\",\n    table.background.color = \"white\",\n    column_labels.font.weight = \"bold\",\n    column_labels.background.color = \"#f8f9fa\",\n    row_group.background.color = \"#f1f3f5\",\n    #row.striping.include_table_body = TRUE,\n    quarto.disable_processing = TRUE\n  ) |>\n  tab_source_note(\n    source_note = \"Clusters identified through NLP analysis of US Census variable concepts\"\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"rudcgemsbf\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#rudcgemsbf table {\n  font-family: Arial;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#rudcgemsbf thead, #rudcgemsbf tbody, #rudcgemsbf tfoot, #rudcgemsbf tr, #rudcgemsbf td, #rudcgemsbf th {\n  border-style: none;\n}\n\n#rudcgemsbf p {\n  margin: 0;\n  padding: 0;\n}\n\n#rudcgemsbf .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#rudcgemsbf .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#rudcgemsbf .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#rudcgemsbf .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_col_heading {\n  color: #333333;\n  background-color: #F8F9FA;\n  font-size: 100%;\n  font-weight: bold;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#rudcgemsbf .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #F8F9FA;\n  font-size: 100%;\n  font-weight: bold;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#rudcgemsbf .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#rudcgemsbf .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#rudcgemsbf .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#rudcgemsbf .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#rudcgemsbf .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #F1F3F5;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#rudcgemsbf .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #F1F3F5;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#rudcgemsbf .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#rudcgemsbf .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#rudcgemsbf .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#rudcgemsbf .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rudcgemsbf .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#rudcgemsbf .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#rudcgemsbf .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#rudcgemsbf .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rudcgemsbf .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#rudcgemsbf .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rudcgemsbf .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#rudcgemsbf .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rudcgemsbf .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rudcgemsbf .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rudcgemsbf .gt_left {\n  text-align: left;\n}\n\n#rudcgemsbf .gt_center {\n  text-align: center;\n}\n\n#rudcgemsbf .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#rudcgemsbf .gt_font_normal {\n  font-weight: normal;\n}\n\n#rudcgemsbf .gt_font_bold {\n  font-weight: bold;\n}\n\n#rudcgemsbf .gt_font_italic {\n  font-style: italic;\n}\n\n#rudcgemsbf .gt_super {\n  font-size: 65%;\n}\n\n#rudcgemsbf .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#rudcgemsbf .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#rudcgemsbf .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#rudcgemsbf .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#rudcgemsbf .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#rudcgemsbf .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#rudcgemsbf .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#rudcgemsbf .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#rudcgemsbf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"true\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal\" style=\"color: #FFFFFF; font-weight: bold; background-color: #2C3E50;\">Key Variable Clusters from Census Data Analysis</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style=\"color: #FFFFFF; font-weight: bold; background-color: #2C3E50;\">Top representative words and cluster sizes for socioeconomic &amp; transportation patterns</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Cluster-ID\">CLUSTER</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Top-Words\">TOP REPRESENTATIVE TERMS</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Node-Count\"># VARIABLES</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">23</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Excluding, Military, Units, Housing, Water</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #8470FF; color: #FFFFFF;\">81</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Structure, Householder, Built, Tenure, Year</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #BBABFB; color: #000000;\">55</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">12</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Health, Insurance, Age, Sex, Coverage</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #C0B2FA; color: #000000;\">52</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">21</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Rent, Quartile, Dollars, Contract, Gross</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #D5CFF7; color: #000000;\">39</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">2</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Quarters, Group, Population, Age, Sex</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #D8D2F8; color: #000000;\">36</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">10</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Status, Mortgage, Vacancy, Owner, Monthly</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #DCD7F9; color: #000000;\">32</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">13</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Population, Years, Civilian, Employed, Age</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #DCD7F9; color: #000000;\">32</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">18</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Work, Transportation, Means, Time, Workplace</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #DCD7F9; color: #000000;\">32</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">20</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Poverty, Status, Ratio, Families, Household</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #E6E2FB; color: #000000;\">23</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">3</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Household, Size, Including, Categories, Alone</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #EAE6FB; color: #000000;\">20</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">28</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Number, Rooms, Tenure, Available, Vehicles</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #EBE7FB; color: #000000;\">19</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">36</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Households, Income, Earnings, Dollars, Security</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #EBE7FB; color: #000000;\">19</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">6</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Income, Dollars, Household, Nonfamily, Family</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #ECE9FC; color: #000000;\">18</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">7</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Children, Presence, Years, Family, Age</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #ECE9FC; color: #000000;\">18</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">25</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Characteristics, Social, Comparative, Puerto, Rico</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #EDEAFC; color: #000000;\">17</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">26</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Allocation, Rooms, Relationship, Bedrooms, Value</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #EEEBFC; color: #000000;\">16</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">5</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Moved, Unit, Householder, Year, Tenure</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #F1EFFD; color: #000000;\">13</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">31</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Available, Vehicles, Allocation, Telephone, Service</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #F9F7FE; color: #000000;\">6</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">32</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Internet, Household, Subscription, Access, Computer</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #F9F7FE; color: #000000;\">6</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">44</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Occupied, Housing, Facilities, Units, Plumbing</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #F9F7FE; color: #000000;\">6</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">24</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Subscriptions, Internet, Presence, Household, Computers</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FAF9FE; color: #000000;\">5</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">1</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Occupancy, Status, Bedrooms, Structure</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FBFAFE; color: #000000;\">4</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">9</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Tenure, Universe, Housing</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FBFAFE; color: #000000;\">4</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">15</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Coupled, Households</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FBFAFE; color: #000000;\">4</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">46</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Monthly, Costs, Electricity, Gas, Housing</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FBFAFE; color: #000000;\">4</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">49</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Years, Population, States, Puerto, Rico</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FBFAFE; color: #000000;\">4</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">11</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Total, Occupied, Population, Units, Housing</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFE; color: #000000;\">3</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">14</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Multigenerational, Presence, Households, Nonrelatives</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFE; color: #000000;\">3</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">22</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Value, Housing</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFE; color: #000000;\">3</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">30</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Percentage, Gross, Rent, Income, Household</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFE; color: #000000;\">3</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">37</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Subfamilies, Subfamily, Population, Relationship</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFE; color: #000000;\">3</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">43</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">House, Heating, Fuel, Tenure, Allocation</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFE; color: #000000;\">3</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">45</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Meals, Included, Rent, Householder, Kitchen</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFE; color: #000000;\">3</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">8</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Units, Housing</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">16</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Average, Occupied, Size, Units, Housing</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">17</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Geographical, Mobility, Year, States, Puerto</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">19</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Language, Household</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">27</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Rooms</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">29</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Bedrooms</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">33</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Reason, Moving, People, Primary, Households</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">34</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Stamp, Benefits, Food, Snap, Households</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">35</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Years, Workers, Vehicle, Households, Private</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">38</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Limits, Quintile, Upper, Income, Household</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">39</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Quintiles, Mean, Income, Household</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">40</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Shares, Quintile, Income, Aggregate, Household</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">41</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Gini, Index, Inequality, Income</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">42</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Place, Work, Workers, State, County</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">47</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Computers, Household</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">48</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Overall, Characteristic, Rate, Person, Unit</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">50</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Spoken, Home, Language, Characteristics, People</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"Cluster ID\" class=\"gt_row gt_right\">51</td>\n<td headers=\"Top Words\" class=\"gt_row gt_left\">Financial, Mortgage, Characteristics, Without, Units</td>\n<td headers=\"Node Count\" class=\"gt_row gt_right\" style=\"background-color: #FDFCFF; color: #000000;\">2</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"3\">Clusters identified through NLP analysis of US Census variable concepts</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\nBased on the analysis, the following clusters are selected for inclusion due to their direct relevance to transportation behavior, income patterns, and population density - key factors influencing taxi demand (`take_current_trip`):\n\n| Cluster ID | Top Words                          | Node Count | Reason for Inclusion                                                                 |\n|------------|------------------------------------|------------|--------------------------------------------------------------------------------------|\n| **18**     | Work, Transportation, Means, Time, Workplace | 32    | **Direct commuting behavior** - primary driver of taxi demand patterns          |\n| **13**     | Population, Years, Civilian, Employed, Age | 32      | **Employment density** - correlates with business/event-related trips           |\n| **36**     | Households, Income, Earnings, Dollars, Security | 19 | **Income capacity** - strongest predictor of taxi affordability and usage frequency|\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConceptsToExploreCleanConcept <-\n  ConceptsToExploreClusters[.(c(18, 13, 36)),\n                            on = \"cluster\",\n                            .(concept = stringr::str_to_sentence(node),\n                              cluster)]\n\nConceptByDataset <-\n  ValidTablesLastYear[, .(concept = stringr::str_to_sentence(concept),\n                          year,\n                          dataset,\n                          survey)\n  ][, unique(.SD)]\n\n\nConceptByDatasetToExplore <-\n  ConceptByDataset[ConceptsToExploreCleanConcept,\n                   on = \"concept\"]\n```\n:::\n\n\n\n\n\nChecking the data we can see that some concept are duplicated in some in some datasets, as we can see in the next table.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nConceptByDatasetToExplore[, .(N = .N, \n                              dataset = sort(dataset) |> paste(collapse = \", \")), \n                          by = \"concept\"\n][N > 1, \n  .(variables =  .N), \n  keyby = \"dataset\"] |>\n  \n  \n  gt() |>\n  \n  # Header\n  tab_header(\n    title = md(\"**Dataset Variable Analysis**\"),\n    subtitle = \"Distribution of shared variables across survey datasets\"\n  ) |>\n  \n  # Col Names\n  cols_label(\n    dataset = \"Dataset Collection\",\n    variables = \"Number of Variables\"\n  ) |>\n  \n  # Number Format\n  fmt_number(columns = variables, decimals = 0) |>\n  \n  # Colors\n  data_color(\n    columns = variables,\n    colors = scales::col_numeric(\n      palette = c(\"white\",ColorHighlightLow, ColorHighlight),\n      domain = NULL\n    )\n  ) |>\n  tab_style(\n    style = cell_text(color = \"white\", weight = \"bold\"),\n    locations = cells_title()\n  ) |>\n  tab_style(\n    style = cell_fill(color = \"#2c3e50\"),\n    locations = cells_title()\n  ) |>\n  \n  # Options\n  tab_options(\n    table.font.names = \"Arial\",\n    table.background.color = \"white\",\n    column_labels.font.weight = \"bold\",\n    column_labels.background.color = \"#f8f9fa\",\n    row_group.background.color = \"#f1f3f5\",\n    #row.striping.include_table_body = TRUE,\n    quarto.disable_processing = TRUE\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"vcrvtjfnqn\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#vcrvtjfnqn table {\n  font-family: Arial;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#vcrvtjfnqn thead, #vcrvtjfnqn tbody, #vcrvtjfnqn tfoot, #vcrvtjfnqn tr, #vcrvtjfnqn td, #vcrvtjfnqn th {\n  border-style: none;\n}\n\n#vcrvtjfnqn p {\n  margin: 0;\n  padding: 0;\n}\n\n#vcrvtjfnqn .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vcrvtjfnqn .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vcrvtjfnqn .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vcrvtjfnqn .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_col_heading {\n  color: #333333;\n  background-color: #F8F9FA;\n  font-size: 100%;\n  font-weight: bold;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vcrvtjfnqn .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #F8F9FA;\n  font-size: 100%;\n  font-weight: bold;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vcrvtjfnqn .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vcrvtjfnqn .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vcrvtjfnqn .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vcrvtjfnqn .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#vcrvtjfnqn .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #F1F3F5;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vcrvtjfnqn .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #F1F3F5;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vcrvtjfnqn .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vcrvtjfnqn .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vcrvtjfnqn .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vcrvtjfnqn .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcrvtjfnqn .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vcrvtjfnqn .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vcrvtjfnqn .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#vcrvtjfnqn .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcrvtjfnqn .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vcrvtjfnqn .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcrvtjfnqn .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vcrvtjfnqn .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcrvtjfnqn .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vcrvtjfnqn .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcrvtjfnqn .gt_left {\n  text-align: left;\n}\n\n#vcrvtjfnqn .gt_center {\n  text-align: center;\n}\n\n#vcrvtjfnqn .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vcrvtjfnqn .gt_font_normal {\n  font-weight: normal;\n}\n\n#vcrvtjfnqn .gt_font_bold {\n  font-weight: bold;\n}\n\n#vcrvtjfnqn .gt_font_italic {\n  font-style: italic;\n}\n\n#vcrvtjfnqn .gt_super {\n  font-size: 65%;\n}\n\n#vcrvtjfnqn .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#vcrvtjfnqn .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vcrvtjfnqn .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vcrvtjfnqn .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vcrvtjfnqn .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vcrvtjfnqn .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vcrvtjfnqn .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#vcrvtjfnqn .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#vcrvtjfnqn div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"true\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal\" style=\"color: #FFFFFF; font-weight: bold; background-color: #2C3E50;\"><span data-qmd-base64=\"KipEYXRhc2V0IFZhcmlhYmxlIEFuYWx5c2lzKio=\"><span class='gt_from_md'><strong>Dataset Variable Analysis</strong></span></span></td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style=\"color: #FFFFFF; font-weight: bold; background-color: #2C3E50;\">Distribution of shared variables across survey datasets</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"dataset\">Dataset Collection</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"variables\">Number of Variables</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"dataset\" class=\"gt_row gt_left\">acs1, acs5</td>\n<td headers=\"variables\" class=\"gt_row gt_right\" style=\"background-color: #8470FF; color: #FFFFFF;\">48</td></tr>\n    <tr><td headers=\"dataset\" class=\"gt_row gt_left\">acs1, acs5, acsse</td>\n<td headers=\"variables\" class=\"gt_row gt_right\" style=\"background-color: #FBFBFE; color: #000000;\">3</td></tr>\n    <tr><td headers=\"dataset\" class=\"gt_row gt_left\">acs1/subject, acs5/subject</td>\n<td headers=\"variables\" class=\"gt_row gt_right\" style=\"background-color: #F8F6FE; color: #000000;\">5</td></tr>\n    <tr><td headers=\"dataset\" class=\"gt_row gt_left\">cd118, dhc</td>\n<td headers=\"variables\" class=\"gt_row gt_right\" style=\"background-color: #FDFDFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"dataset\" class=\"gt_row gt_left\">cd118, dhc, dhcas, dhcgu, dhcvi</td>\n<td headers=\"variables\" class=\"gt_row gt_right\" style=\"background-color: #FBFBFE; color: #000000;\">3</td></tr>\n    <tr><td headers=\"dataset\" class=\"gt_row gt_left\">dhcas, dhcgu, dhcvi</td>\n<td headers=\"variables\" class=\"gt_row gt_right\" style=\"background-color: #FDFDFF; color: #000000;\">2</td></tr>\n    <tr><td headers=\"dataset\" class=\"gt_row gt_left\">dhcas, dhcgu, dhcvi, sdhc</td>\n<td headers=\"variables\" class=\"gt_row gt_right\" style=\"background-color: #FFFFFF; color: #000000;\">1</td></tr>\n    <tr><td headers=\"dataset\" class=\"gt_row gt_left\">dhcas, dhcvi</td>\n<td headers=\"variables\" class=\"gt_row gt_right\" style=\"background-color: #EDE9FC; color: #000000;\">11</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\nWe can see that we have 2 main groups of cases:\n\n- Variables shared between acs1 (subject) and acs5 (subject).\n- Variables shared between datasets of the decennial US Census.\n\nBy reading about the differences between each datasets, we are going to focus in the variables available for the next datasets:\n\n- **acs5** and **acs5/subject**\n\n    - We are going to train the model based on one year data but we want to be able to find patterns that remain for future years as our testing data have trips for 2025 we expect that the model keep working after that year.\n    \n\n- **dhc**\n\n    - We are exploring only NYC so won't need information from indepent island and as result the information provided by those datasets won't be relevant for our training goal.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConceptByValidDatasetToExplore <-\n  ConceptByDatasetToExplore[c(\"acs5\", \"acs5/subject\", \"dhc\"),\n                            on = \"dataset\",\n                            .(dataset, concept, cluster)]\n```\n:::\n\n\n\n\nNow we are ready to identify the particular codes (names) related to each variable concept. In this step are going to exclude variables that:\n\n- Only provide information based on sex with the exception of `B08013_001` which provide information about \"travel time to work (in minutes) of workers\".\n- Don't have information at tract level of geography.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nValidTablesLastYear[, concept := stringr::str_to_sentence(concept)]\n\nVariablesToUse <-\n  ValidTablesLastYear[\n    ConceptByValidDatasetToExplore,\n    on = c(\"dataset\",\"concept\")\n    \n  # Only provide information based on sex\n  ][!label %ilike% \"Male|Female\"\n  ][, concept_count := .N, \n    by = \"concept\"\n  ][name == \"B08013_001\"\n    | concept_count > 2L\n    \n  # Don't have information at tract \n  ][fcoalesce(geography, \"\") != \"county\"]\n\nVariablesToUse[, .(N = comma(.N)), \n               by = c(\"survey\", \"year\")]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   survey  year      N\n   <char> <int> <char>\n1:    acs  2022  1,382\n2:    dec  2020     51\n```\n\n\n:::\n:::\n\n\n\n\n### Download data for Manhattan, Queens and Brooklyn with geometry\n\nAfter defining the variables to use we only need to define the queries to get the data from the API with `{tidycensus}` for the American Community Survey (ACS) and Decennial US Census (DEC).\n\n::: {.callout-note}\nAs we are getting also the geometry information is much efficient to change the `output` argument default from \"tidy\" to \"wide\" to avoid having a list column repeating the same geometries over and over after applying the function `tidyr::gather`.\n\n**This will make the spatial join independent to the number of variables to query.**\n:::\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nAcsVariableTracts <-\n  get_acs(geography = \"tract\", \n          variables = VariablesToUse[\"acs\", on = \"survey\", name],\n          year = 2022, \n          state = \"NY\",\n          # Manhattan, Brooklyn, Queens\n          county =  c(\"New York\", \"Kings\", \"Queens\"),\n          geometry = TRUE,\n          survey = \"acs5\",\n          output = \"wide\") |>\n  st_transform(crs = st_crs(ZonesShapes)$epsg)\n\nDecVariableTracts <-\n  get_decennial(geography = \"tract\", \n                variables = VariablesToUse[\"dec\", on = \"survey\", name],\n                sumfile = \"dhc\",\n                year = 2020, \n                state = \"NY\",\n                # Manhattan, Brooklyn, Queens\n                county =  c(\"New York\", \"Kings\", \"Queens\"),\n                geometry = TRUE,\n                output = \"wide\") |>\n  st_transform(crs = st_crs(ZonesShapes)$epsg)\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\nTo it's the perfect time to join all variables into one table.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConsolidatedVariableTracts <- \n  dplyr::full_join(AcsVariableTracts, \n                   st_drop_geometry(DecVariableTracts), \n                   by = c(\"GEOID\", \"NAME\"))\n\ndim(ConsolidatedVariableTracts)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1840 2777\n```\n\n\n:::\n\n```{.r .cell-code}\ndim(AcsVariableTracts)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1840 2726\n```\n\n\n:::\n\n```{.r .cell-code}\ndim(DecVariableTracts)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1840   54\n```\n\n\n:::\n:::\n\n\n\n\n\n## Spatial joins\n\nWe need to join to the original zones of our training set in to 2 steps:\n\n- Join the tracts full contained within the original zone shapes.\n- Join the tracts that overlaps in more than one zone shape.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConsolidatedVariableTractsJoinedList <-\n  lapply(list(within = st_within,\n              overlaps = st_overlaps), \n         FUN = st_join,\n         x = ConsolidatedVariableTracts,\n         y = ZonesShapes,\n         left = FALSE)\n```\n:::\n\n\n\n\nNow we need to go over each of the original zone shapes and cut the tracts parts that are not contained on each zone and consolidate the within and overlaps elements of `TravelTimeToWorkTractJoinedList` into one data frame.\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\napply_intersection_by_id <- function(features,\n                                     shapes,\n                                     id_col){\n  \n  intersection_by_id = function(id, features, shapes, id_col) {\n    \n    features_sub = features[features[[id_col]] == id, ]\n    shapes_sub_geo = shapes[shapes[[id_col]] == id, ] |> st_geometry()\n    \n    new_df = \n      st_intersection(features_sub,\n                      shapes_sub_geo) |>\n      st_cast(to = \"MULTIPOLYGON\")\n\n    return(new_df)\n  }\n  \n  new_df =\n    lapply(unique(features[[id_col]]),\n           FUN = intersection_by_id,\n           features = features,\n           shapes = shapes,\n           id_col = id_col) |>\n    do.call(what = \"rbind\")\n  \n  return(new_df)\n  \n}\n\nConsolidatedVariableTractsJoinedList$overlaps <-\n  apply_intersection_by_id(ConsolidatedVariableTractsJoinedList$overlaps,\n                           ZonesShapes,\n                           id_col = \"OBJECTID\")\n\nConsolidatedVariableTractsJoined <- \n  do.call(what = \"rbind\", \n          ConsolidatedVariableTractsJoinedList)\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\nPerfect, we have joined the to shapes, but we still need to have only one estimate value per original zone shape. To solve this challenge we only need to use the `weighted arithmetic mean` based on the proportion of the area add each tract to the original zone id.\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nConsolidatedVariableTractsJoined$tract_area <-\n  st_area(ConsolidatedVariableTractsJoined$geometry)\n\nConsolidatedVariableTractsJoinedDt <-\n  st_drop_geometry(ConsolidatedVariableTractsJoined) |>\n  setDT()\n\nIdColumns <-\n  c(\"GEOID\", \n    \"NAME\", \n    \"tract_area\",\n    \"LocationID\", \n    \"OBJECTID\")\n\nConsolidatedVariableTidy <-\n  melt(ConsolidatedVariableTractsJoinedDt,\n       id.var = IdColumns,\n       variable.factor = FALSE\n  )[,`:=`(variable_type = fifelse(variable %like% \"\\\\dM$\", \"moe\", \"estimate\"),\n          variable = sub(\"(E|M)$\", \"\", variable))\n  ][, dcast(.SD,\n            formula = as.formula(paste0(paste0(c(IdColumns, \"variable\"), collapse = \" + \"), \"~ variable_type\")),\n            value.var = \"value\")\n  ][, `:=`(NAME = NULL,\n           OBJECTID = NULL,\n           moe = NULL,\n           estimate_low = estimate - fcoalesce(moe, 0),\n           estimate_high = estimate + fcoalesce(moe, 0))\n  ][estimate_low < 0, \n    estimate_low := 0\n  ][, area_prop :=  as.double(tract_area / sum(tract_area, na.rm = TRUE)),\n    by = c(\"LocationID\", \"variable\")]\n\n\nConsolidatedVariableTractsByZoneId <-\n  ConsolidatedVariableTidy[\n    j = .(estimate  = sum(estimate * area_prop, na.rm = TRUE),\n          estimate_low  = sum(estimate_low * area_prop, na.rm = TRUE),\n          estimate_high  = sum(estimate_high * area_prop, na.rm = TRUE)),\n    by = c(\"LocationID\", \"variable\")\n  ][, melt(.SD,\n           measure.vars = c(\"estimate\", \"estimate_low\", \"estimate_high\"),\n           variable.factor = FALSE,\n           variable.name = \"variable_type\")\n  ][, dcast(.SD, LocationID ~ variable + variable_type, value.var = \"value\")]\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(ConsolidatedVariableTractsByZoneId)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  196 4300\n```\n\n\n:::\n:::\n\n\n\n\n\n## Validation\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nPuVariableTractsMeanDiff <-\n  ConsolidatedVariableTractsByZoneId[TrainingSample[, .(LocationID = PULocationID, \n                                                        take_current_trip)], \n                                     on = \"LocationID\"\n  ][, lapply(.SD, \\(x) if(uniqueN(x) == 1L) x[1L] else x[!is.na(x)] |> scale(center = FALSE) |> median()),\n    .SDcols = !c(\"LocationID\"),\n    by = \"take_current_trip\"\n  ][, melt(.SD,\n           id.vars = \"take_current_trip\",\n           variable.factor = FALSE)\n  ][, .(not_take_vs_take = diff(value)),\n    by = \"variable\"\n  ][order(-abs(not_take_vs_take))]\n\n\nDoVariableTractsMeanDiff <-\n  ConsolidatedVariableTractsByZoneId[TrainingSample[, .(LocationID = DOLocationID,\n                                                        take_current_trip)], \n                                     on = \"LocationID\"\n  ][, lapply(.SD, \\(x) if(uniqueN(x) == 1L) x[1L] else x[!is.na(x)] |> scale(center = FALSE) |> median()),\n    .SDcols = !c(\"LocationID\"),\n    by = \"take_current_trip\"\n  ][, melt(.SD,\n           id.vars = \"take_current_trip\",\n           variable.factor = FALSE)\n  ][, .(not_take_vs_take = diff(value)),\n    by = \"variable\"\n  ][order(-abs(not_take_vs_take))]\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nVariableTractsMeanDiff <-\n  rbindlist(list(PuVariableTractsMeanDiff,\n                 DoVariableTractsMeanDiff)\n  )[!is.na(not_take_vs_take)]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nggplot(VariableTractsMeanDiff) +\n  geom_histogram(aes(not_take_vs_take)) +\n  scale_y_continuous(transform = scales::new_transform(\"signed_log10\",\n                                                       transform = function(x) sign(x) * log10(1 + abs(x)),\n                                                       inverse = function(x) sign(x) * (10^(abs(x)) - 1),\n                                                       breaks = scales::pretty_breaks()),\n                     breaks = c(0, 10^(1:4))) +\n  scale_x_continuous(breaks = breaks_width(0.1)) +\n  labs(y = \"count on log10 scale\")+\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](08-expanding-transportation-socioeconomic_files/figure-html/unnamed-chunk-51-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nTopVariableTractsMeanDiff <- VariableTractsMeanDiff[abs(not_take_vs_take) > 0.30, unique(variable)]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\n# Enhanced contest-winning gt table with improved styling\nVariablesToUse[.(sub(\"_estimate(_(low|high))*\", \"\", TopVariableTractsMeanDiff) |> unique()), \n               on = \"name\",\n               c(\"dataset\",\n                 \"concept\",\n                 \"label\",\n                 \"name\")\n][order(concept, name)\n  # Add improved row groups with better categorization\n][, category := fcase(\n  grepl(\"Earnings|Income|Poverty\", concept, ignore.case = TRUE), \"ðŸ’° Economic Indicators\",\n  grepl(\"Industry|Occupation|Employment\", concept, ignore.case = TRUE), \"ðŸ­ Employment & Industry\", \n  grepl(\"Transportation|Commuting|Vehicle\", concept, ignore.case = TRUE), \"ðŸš— Transportation & Mobility\",\n  default = \"ðŸ“Š Other Variables\"\n)] |>\n\ngt(groupname_col = \"category\") |>\n\n# Enhanced header with better typography\ntab_header(\n  title = md(\"**ðŸ† Key Census Variables Analysis**\"),\n  subtitle = md(\"*Critical demographic and socioeconomic indicators across geographic clusters*\")\n) |>\n\n# Improved column headers with icons and better descriptions\ncols_label(\n  dataset = md(\"**ðŸ“‹ Dataset**\"),\n  concept = md(\"**ðŸŽ¯ Concept Category**\"),\n  label = md(\"**ðŸ“ Variable Description**\"),\n  name = md(\"**ðŸ”– Variable ID**\")\n) |>\n\n# Hide the grouping column\ncols_hide(category) |>\n\n# Enhanced header styling with gradient effect\ntab_style(\n  style = list(\n    cell_fill(color = ColorHighlight),\n    cell_text(color = \"white\", weight = \"bold\", size = px(13)),\n    cell_borders(sides = \"bottom\", color = \"white\", weight = px(2))\n  ),\n  locations = cells_column_labels()\n) |>\n\n# Stunning group headers with enhanced styling\ntab_style(\n  style = list(\n    cell_fill(color = ColorHighlightLow),\n    cell_text(\n      weight = \"bold\", \n      size = px(15),\n      color = \"#2c3e50\"\n    ),\n    cell_borders(\n      sides = c(\"top\", \"bottom\"), \n      color = ColorHighlight, \n      weight = px(2)\n    )\n  ),\n  locations = cells_row_groups()\n) |>\n\n# Enhanced title styling\ntab_style(\n  style = list(\n    cell_text(\n      color = \"white\", \n      weight = \"bold\",\n      size = px(22)\n    ),\n    cell_fill(color = \"#2c3e50\")\n  ),\n  locations = cells_title(groups = \"title\")\n) |>\n\ntab_style(\n  style = list(\n    cell_text(\n      color = \"#ecf0f1\", \n      style = \"italic\",\n      size = px(16)\n    ),\n    cell_fill(color = \"#34495e\")\n  ),\n  locations = cells_title(groups = \"subtitle\")\n) |>\n\n# Variable ID styling with better monospace presentation\ntab_style(\n  style = list(\n    cell_text(\n      font = \"Consolas, Monaco, monospace\", \n      size = px(11)\n    )\n  ),\n  locations = cells_body(columns = name)\n) |>\n\n# Dataset column styling\ntab_style(\n  style = cell_text(\n    weight = \"bold\",\n    size = px(11)\n  ),\n  locations = cells_body(columns = dataset)\n) |>\n\n# Concept column styling\ntab_style(\n  style = cell_text(\n    size = px(11),\n    weight = \"bold\"\n  ),\n  locations = cells_body(columns = concept)\n) |>\n\n# Label column with improved readability\ntab_style(\n  style = cell_text(\n    size = px(11),\n    color = \"#2c3e50\"\n  ),\n  locations = cells_body(columns = label)\n) |>\n\n# Optimized column widths for better content display\ncols_width(\n  dataset ~ px(100),\n  concept ~ px(180),\n  label ~ px(350),\n  name ~ px(140)\n) |>\n\n# Comprehensive table options for professional appearance\ntab_options(\n  # Typography\n  table.font.names = c(\"Segoe UI\", \"Arial\", \"sans-serif\"),\n  table.font.size = px(12),\n  heading.title.font.size = px(22),\n  heading.subtitle.font.size = px(16),\n  row_group.font.size = px(15),\n  \n  # Background and colors\n  table.background.color = \"#fdfdfd\",\n  \n  # Borders and lines\n  table.border.top.style = \"solid\",\n  table.border.top.width = px(4),\n  table.border.top.color = ColorHighlight,\n  table.border.bottom.style = \"solid\",\n  table.border.bottom.width = px(4),\n  table.border.bottom.color = ColorHighlight,\n  \n  # Column labels\n  column_labels.border.bottom.style = \"solid\",\n  column_labels.border.bottom.width = px(3),\n  column_labels.border.bottom.color = ColorHighlight,\n  column_labels.background.color = ColorHighlight,\n  \n  # Row groups\n  row_group.border.top.style = \"solid\",\n  row_group.border.top.width = px(2),\n  row_group.border.top.color = ColorHighlight,\n  row_group.border.bottom.style = \"solid\",\n  row_group.border.bottom.width = px(1),\n  row_group.border.bottom.color = ColorHighlightLow,\n  \n  # Striping and spacing\n  #row.striping.include_table_body = TRUE,\n  #row.striping.background_color = \"#f8f9fa\",\n  table_body.hlines.style = \"solid\",\n  table_body.hlines.width = px(1),\n  table_body.hlines.color = \"#dee2e6\",\n  \n  # Layout\n  # table.width = pct(100),\n  # container.overflow.x = TRUE,\n  # container.overflow.y = TRUE,\n  # container.height = px(600),\n  \n  quarto.disable_processing = TRUE\n) |>\n\n# Enhanced source note with better formatting\ntab_source_note(\n  source_note = md(\"**ðŸ“Š Data Source:** U.S. Census Bureau, American Community Survey (ACS) 5-Year Estimates | **ðŸ“… Analysis Period:** 2018-2022\")\n) |>\n\n# Style the source note\ntab_style(\n  style = list(\n    cell_text(\n      size = px(12),\n      color = \"#7f8c8d\",\n      style = \"italic\"\n    )\n  ),\n  locations = cells_source_notes()\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"aoouztcztd\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#aoouztcztd table {\n  font-family: 'Segoe UI', Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#aoouztcztd thead, #aoouztcztd tbody, #aoouztcztd tfoot, #aoouztcztd tr, #aoouztcztd td, #aoouztcztd th {\n  border-style: none;\n}\n\n#aoouztcztd p {\n  margin: 0;\n  padding: 0;\n}\n\n#aoouztcztd .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 12px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FDFDFD;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 4px;\n  border-top-color: #8470FF;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 4px;\n  border-bottom-color: #8470FF;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#aoouztcztd .gt_title {\n  color: #333333;\n  font-size: 22px;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FDFDFD;\n  border-bottom-width: 0;\n}\n\n#aoouztcztd .gt_subtitle {\n  color: #333333;\n  font-size: 16px;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FDFDFD;\n  border-top-width: 0;\n}\n\n#aoouztcztd .gt_heading {\n  background-color: #FDFDFD;\n  text-align: center;\n  border-bottom-color: #FDFDFD;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 3px;\n  border-bottom-color: #8470FF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_col_heading {\n  color: #FFFFFF;\n  background-color: #8470FF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#aoouztcztd .gt_column_spanner_outer {\n  color: #FFFFFF;\n  background-color: #8470FF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#aoouztcztd .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#aoouztcztd .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#aoouztcztd .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 3px;\n  border-bottom-color: #8470FF;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#aoouztcztd .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#aoouztcztd .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FDFDFD;\n  font-size: 15px;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #8470FF;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #D3CDF7;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#aoouztcztd .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FDFDFD;\n  font-size: 15px;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #8470FF;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #D3CDF7;\n  vertical-align: middle;\n}\n\n#aoouztcztd .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#aoouztcztd .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#aoouztcztd .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #DEE2E6;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#aoouztcztd .gt_stub {\n  color: #333333;\n  background-color: #FDFDFD;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aoouztcztd .gt_stub_row_group {\n  color: #333333;\n  background-color: #FDFDFD;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#aoouztcztd .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#aoouztcztd .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#aoouztcztd .gt_summary_row {\n  color: #333333;\n  background-color: #FDFDFD;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aoouztcztd .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#aoouztcztd .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FDFDFD;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aoouztcztd .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#aoouztcztd .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_footnotes {\n  color: #333333;\n  background-color: #FDFDFD;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aoouztcztd .gt_sourcenotes {\n  color: #333333;\n  background-color: #FDFDFD;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#aoouztcztd .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aoouztcztd .gt_left {\n  text-align: left;\n}\n\n#aoouztcztd .gt_center {\n  text-align: center;\n}\n\n#aoouztcztd .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#aoouztcztd .gt_font_normal {\n  font-weight: normal;\n}\n\n#aoouztcztd .gt_font_bold {\n  font-weight: bold;\n}\n\n#aoouztcztd .gt_font_italic {\n  font-style: italic;\n}\n\n#aoouztcztd .gt_super {\n  font-size: 65%;\n}\n\n#aoouztcztd .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#aoouztcztd .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#aoouztcztd .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#aoouztcztd .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#aoouztcztd .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#aoouztcztd .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#aoouztcztd .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#aoouztcztd .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#aoouztcztd div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" style=\"table-layout:fixed;width:0px;\" data-quarto-disable-processing=\"true\" data-quarto-bootstrap=\"false\">\n  <colgroup>\n    <col style=\"width:100px;\"/>\n    <col style=\"width:180px;\"/>\n    <col style=\"width:350px;\"/>\n    <col style=\"width:140px;\"/>\n  </colgroup>\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal\" style=\"color: #FFFFFF; font-size: 22px; font-weight: bold; background-color: #2C3E50;\"><span data-qmd-base64=\"Kirwn4+GIEtleSBDZW5zdXMgVmFyaWFibGVzIEFuYWx5c2lzKio=\"><span class='gt_from_md'><strong>ðŸ† Key Census Variables Analysis</strong></span></span></td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style=\"color: #ECF0F1; font-size: 16px; font-style: italic; background-color: #34495E;\"><span data-qmd-base64=\"KkNyaXRpY2FsIGRlbW9ncmFwaGljIGFuZCBzb2Npb2Vjb25vbWljIGluZGljYXRvcnMgYWNyb3NzIGdlb2dyYXBoaWMgY2x1c3RlcnMq\"><span class='gt_from_md'><em>Critical demographic and socioeconomic indicators across geographic clusters</em></span></span></td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"background-color: #8470FF; color: #FFFFFF; font-size: 13px; font-weight: bold; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: white;\" scope=\"col\" id=\"dataset\"><span data-qmd-base64=\"Kirwn5OLIERhdGFzZXQqKg==\"><span class='gt_from_md'><strong>ðŸ“‹ Dataset</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"background-color: #8470FF; color: #FFFFFF; font-size: 13px; font-weight: bold; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: white;\" scope=\"col\" id=\"concept\"><span data-qmd-base64=\"Kirwn46vIENvbmNlcHQgQ2F0ZWdvcnkqKg==\"><span class='gt_from_md'><strong>ðŸŽ¯ Concept Category</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"background-color: #8470FF; color: #FFFFFF; font-size: 13px; font-weight: bold; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: white;\" scope=\"col\" id=\"label\"><span data-qmd-base64=\"Kirwn5OdIFZhcmlhYmxlIERlc2NyaXB0aW9uKio=\"><span class='gt_from_md'><strong>ðŸ“ Variable Description</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"background-color: #8470FF; color: #FFFFFF; font-size: 13px; font-weight: bold; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: white;\" scope=\"col\" id=\"name\"><span data-qmd-base64=\"Kirwn5SWIFZhcmlhYmxlIElEKio=\"><span class='gt_from_md'><strong>ðŸ”– Variable ID</strong></span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"4\" class=\"gt_group_heading\" style=\"background-color: #D3CDF7; color: #2C3E50; font-size: 15px; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: lightslateblue; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: lightslateblue;\" scope=\"colgroup\" id=\"ðŸ’° Economic Indicators\">ðŸ’° Economic Indicators</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"ðŸ’° Economic Indicators  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸ’° Economic Indicators  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Earnings in the past 12 months (in 2022 inflation-adjusted dollars)</td>\n<td headers=\"ðŸ’° Economic Indicators  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Percent!!Population 16 years and over with earnings!!FULL-TIME, YEAR-ROUND WORKERS WITH EARNINGS!!$25,000 to $34,999</td>\n<td headers=\"ðŸ’° Economic Indicators  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S2001_C02_007</td></tr>\n    <tr><td headers=\"ðŸ’° Economic Indicators  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸ’° Economic Indicators  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Earnings in the past 12 months (in 2022 inflation-adjusted dollars)</td>\n<td headers=\"ðŸ’° Economic Indicators  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Percent!!Population 16 years and over with earnings!!FULL-TIME, YEAR-ROUND WORKERS WITH EARNINGS!!$100,000 or more</td>\n<td headers=\"ðŸ’° Economic Indicators  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S2001_C02_012</td></tr>\n    <tr><td headers=\"ðŸ’° Economic Indicators  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸ’° Economic Indicators  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Income in the past 12 months (in 2022 inflation-adjusted dollars)</td>\n<td headers=\"ðŸ’° Economic Indicators  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Families!!Total!!$35,000 to $49,999</td>\n<td headers=\"ðŸ’° Economic Indicators  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S1901_C02_006</td></tr>\n    <tr><td headers=\"ðŸ’° Economic Indicators  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸ’° Economic Indicators  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Income in the past 12 months (in 2022 inflation-adjusted dollars)</td>\n<td headers=\"ðŸ’° Economic Indicators  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Families!!Total!!$50,000 to $74,999</td>\n<td headers=\"ðŸ’° Economic Indicators  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S1901_C02_007</td></tr>\n    <tr><td headers=\"ðŸ’° Economic Indicators  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸ’° Economic Indicators  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Income in the past 12 months (in 2022 inflation-adjusted dollars)</td>\n<td headers=\"ðŸ’° Economic Indicators  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Families!!Total!!$200,000 or more</td>\n<td headers=\"ðŸ’° Economic Indicators  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S1901_C02_011</td></tr>\n    <tr><td headers=\"ðŸ’° Economic Indicators  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸ’° Economic Indicators  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Income in the past 12 months (in 2022 inflation-adjusted dollars)</td>\n<td headers=\"ðŸ’° Economic Indicators  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Married-couple families!!Total!!$200,000 or more</td>\n<td headers=\"ðŸ’° Economic Indicators  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S1901_C03_011</td></tr>\n    <tr><td headers=\"ðŸ’° Economic Indicators  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸ’° Economic Indicators  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Income in the past 12 months (in 2022 inflation-adjusted dollars)</td>\n<td headers=\"ðŸ’° Economic Indicators  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Nonfamily households!!Total!!$200,000 or more</td>\n<td headers=\"ðŸ’° Economic Indicators  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S1901_C04_011</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"4\" class=\"gt_group_heading\" style=\"background-color: #D3CDF7; color: #2C3E50; font-size: 15px; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: lightslateblue; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: lightslateblue;\" scope=\"colgroup\" id=\"ðŸ­ Employment &amp;amp; Industry\">ðŸ­ Employment &amp; Industry</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"ðŸ­ Employment & Industry  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸ­ Employment & Industry  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Industry by sex for the civilian employed population 16 years and over</td>\n<td headers=\"ðŸ­ Employment & Industry  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Total!!Civilian employed population 16 years and over!!Transportation and warehousing, and utilities:!!Transportation and warehousing</td>\n<td headers=\"ðŸ­ Employment & Industry  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S2403_C01_010</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"4\" class=\"gt_group_heading\" style=\"background-color: #D3CDF7; color: #2C3E50; font-size: 15px; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: lightslateblue; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: lightslateblue;\" scope=\"colgroup\" id=\"ðŸš— Transportation &amp;amp; Mobility\">ðŸš— Transportation &amp; Mobility</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by age</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Total:!!Car, truck, or van - carpooled:!!55 to 59 years</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">B08101_022</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Total!!Workers 16 years and over!!INDUSTRY!!Information and finance and insurance, and real estate and rental and leasing</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C01_055</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Total!!Workers 16 years and over!!PLACE OF WORK!!Worked in state of residence!!Worked outside county of residence</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C01_068</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- drove alone!!EARNINGS IN THE PAST 12 MONTHS (IN 2022 INFLATION-ADJUSTED DOLLARS) FOR WORKERS!!Workers 16 years and over with earnings!!$35,000 to $49,999</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C02_033</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- drove alone!!Workers 16 years and over!!OCCUPATION!!Natural resources, construction, and maintenance occupations</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C02_046</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- drove alone!!Workers 16 years and over who did not work from home!!TIME OF DEPARTURE TO GO TO WORK!!5:30 a.m. to 5:59 a.m.</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C02_073</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!Workers 16 years and over!!AGE!!45 to 54 years</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_005</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!Workers 16 years and over!!AGE!!55 to 59 years</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_006</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!EARNINGS IN THE PAST 12 MONTHS (IN 2022 INFLATION-ADJUSTED DOLLARS) FOR WORKERS!!Workers 16 years and over with earnings!!$15,000 to $24,999</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_031</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!EARNINGS IN THE PAST 12 MONTHS (IN 2022 INFLATION-ADJUSTED DOLLARS) FOR WORKERS!!Workers 16 years and over with earnings!!$25,000 to $34,999</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_032</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!EARNINGS IN THE PAST 12 MONTHS (IN 2022 INFLATION-ADJUSTED DOLLARS) FOR WORKERS!!Workers 16 years and over with earnings!!Median earnings (dollars)</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_037</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!Workers 16 years and over!!OCCUPATION!!Production, transportation, and material moving occupations</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_047</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!Workers 16 years and over!!INDUSTRY!!Arts, entertainment, and recreation, and accommodation and food services</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_058</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!Workers 16 years and over!!CLASS OF WORKER!!Government workers</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_063</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!Workers 16 years and over who did not work from home!!TIME OF DEPARTURE TO GO TO WORK!!6:30 a.m. to 6:59 a.m.</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_075</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!Workers 16 years and over who did not work from home!!TRAVEL TIME TO WORK!!60 or more minutes</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_089</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Car, truck, or van -- carpooled!!Workers 16 years and over in households!!VEHICLES AVAILABLE!!2 vehicles available</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C03_096</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Public transportation (excluding taxicab)!!Workers 16 years and over!!OCCUPATION!!Service occupations</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C04_044</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Public transportation (excluding taxicab)!!Workers 16 years and over!!PLACE OF WORK!!Worked in state of residence!!Worked in county of residence</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C04_067</td></tr>\n    <tr><td headers=\"ðŸš— Transportation & Mobility  dataset\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">acs5/subject</td>\n<td headers=\"ðŸš— Transportation & Mobility  concept\" class=\"gt_row gt_left\" style=\"font-size: 11px; font-weight: bold;\">Means of transportation to work by selected characteristics</td>\n<td headers=\"ðŸš— Transportation & Mobility  label\" class=\"gt_row gt_left\" style=\"color: #2C3E50; font-size: 11px;\">Estimate!!Public transportation (excluding taxicab)!!Workers 16 years and over!!PLACE OF WORK!!Worked in state of residence!!Worked outside county of residence</td>\n<td headers=\"ðŸš— Transportation & Mobility  name\" class=\"gt_row gt_left\" style=\"font-family: 'Consolas, Monaco, monospace'; font-size: 11px;\">S0802_C04_068</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" style=\"color: #7F8C8D; font-size: 12px; font-style: italic;\" colspan=\"4\"><span data-qmd-base64=\"Kirwn5OKIERhdGEgU291cmNlOioqIFUuUy4gQ2Vuc3VzIEJ1cmVhdSwgQW1lcmljYW4gQ29tbXVuaXR5IFN1cnZleSAoQUNTKSA1LVllYXIgRXN0aW1hdGVzIHwgKirwn5OFIEFuYWx5c2lzIFBlcmlvZDoqKiAyMDE4LTIwMjI=\"><span class='gt_from_md'><strong>ðŸ“Š Data Source:</strong> U.S. Census Bureau, American Community Survey (ACS) 5-Year Estimates | <strong>ðŸ“… Analysis Period:</strong> 2018-2022</span></span></td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\nAfter confirming these promising results we can save the most import features for future use.\n\n```r\nfst::write_fst(\n  ConsolidatedVariableTractsByZoneId[, .SD, \n                                     .SDcols = c(\"LocationID\",\n                                                 TopVariableTractsMeanDiff)], \n  path = here(\"output/AcsVariablesByZoneId.fst\")\n)\n```\n\n## Conclusion\n\n",
    "supporting": [
      "08-expanding-transportation-socioeconomic_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}